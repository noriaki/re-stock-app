# Re-Stock アプリのアーキテクチャ設計

## 全体構造

Re-Stock アプリは以下のディレクトリ構造に従って実装します：

```
src/
├── app/                 # Next.js App Router
├── components/          # UIコンポーネント
│   ├── ui/              # 基本UIコンポーネント（shadcn/ui）
│   └── features/        # 機能別コンポーネント
├── domain/              # ドメインモデル
│   ├── models/          # エンティティと値オブジェクト
│   ├── repositories/    # データアクセス抽象化
│   └── services/        # ドメインサービス
├── lib/                 # ユーティリティ関数
├── stores/              # 状態管理
└── types/               # 型定義
```

## レイヤー構造

アプリケーションは以下の4つの主要レイヤーで構成されます：

1. **プレゼンテーションレイヤー** (components/, app/)
   - ユーザーインターフェース
   - ユーザー入力の処理
   - 状態の表示

2. **アプリケーションレイヤー** (stores/)
   - ユースケースの実装
   - 状態管理
   - ドメインサービスの調整

3. **ドメインレイヤー** (domain/)
   - ビジネスロジック
   - エンティティと値オブジェクト
   - ドメインサービス

4. **インフラストラクチャレイヤー** (domain/repositories/ の実装)
   - データの永続化
   - 外部サービスとの連携
   - 技術的な詳細の実装

## 依存関係の方向

依存関係は内側に向かって流れるようにします：

```
プレゼンテーション → アプリケーション → ドメイン ← インフラストラクチャ
```

- ドメインレイヤーは他のレイヤーに依存しない
- インフラストラクチャレイヤーはドメインレイヤーに依存する
- アプリケーションレイヤーはドメインレイヤーに依存する
- プレゼンテーションレイヤーはアプリケーションレイヤーとドメインレイヤーに依存する

## 技術スタック

- **フレームワーク**: Next.js (App Router)
- **言語**: TypeScript
- **UIライブラリ**: React
- **スタイリング**: Tailwind CSS + shadcn/ui
- **状態管理**: Zustand
- **データ永続化**: localStorage (初期実装)
- **バリデーション**: zod
- **テスト**: Jest + React Testing Library

## 開発プロセス

- GitHub Flowに基づくブランチ戦略
- Pull Requestベースの開発
- テスト駆動開発 (TDD)
- 継続的インテグレーション (CI)
